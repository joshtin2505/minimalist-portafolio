---

---

<div class="toggleCont">
    <label class="switch">
        <input type="checkbox" />
        <span class="slider"></span>
    </label>
</div>
<button class="btnTheme sun">
    <svg
        xmlns="http://www.w3.org/2000/svg"
        width="22"
        height="22"
        fill="currentColor"
        class="bi bi-sun"
        viewBox="0 0 16 16"
    >
        <path
            d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"
        ></path>
    </svg>
</button>
<button class="btnTheme moon">
    <svg
    xmlns="http://www.w3.org/2000/svg"
    width="22"
    height="22"
    fill="currentColor"
    class="bi bi-moon"
    viewBox="0 0 16 16"
>
    <path
        d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"
    ></path>
</svg>
</button>
<script>
    const checkbox = document.querySelector("input")
    const sun = document.getElementsByClassName("sun")[0] as HTMLButtonElement
    const moon = document.getElementsByClassName("moon")[0] as HTMLButtonElement

    checkbox?.addEventListener("change", handleCheckbox)
    sun?.addEventListener("click", handleCheckbox)
    moon?.addEventListener("click", handleCheckbox)
    let isChecked = false
    if (sun.style.display !== "none" && moon.style.display !== "none") {
        isChecked ? sun.classList.add('dnone') : sun.classList.remove('dnone')
        isChecked ? moon.classList.remove('dnone') : moon.classList.add('dnone')
    }
    function handleCheckbox() {
        if (!sun || !moon) return
        isChecked = !isChecked
        if (isChecked) {
            document.querySelector("html")?.classList.add("dark")
        } else {
            document.querySelector("html")?.classList.remove("dark")
        }
        if (sun.style.display !== "none" && moon.style.display !== "none") {
            isChecked ? sun.classList.add('dnone') : sun.classList.remove('dnone')
            isChecked ? moon.classList.remove('dnone') : moon.classList.add('dnone')
        }
    }
</script>
<style>
    .toggleCont {
        justify-content: end;
        align-items: end;
    }
    .toggleCont,
    .btnTheme {
        position: fixed;
        right: 10px;
        bottom: 40px;
        display: flex;
    }
    svg {
        margin-bottom: -2px;
    }
    .btnTheme {
  
        color: #777;
        display: none ;
        cursor: pointer;
        align-items: center;
        justify-content: center;
        border: 1px solid #e5e5e5;
        background: transparent ;
        padding: 4px;
        height: 2rem;
        width: 2rem;
        border-radius: 6px;
    }
    .btnTheme:hover {
        background-color: #eee;
        border-color: #ddd;
    }
    .switch {
        position: relative;
        display: inline-block;
        width: 3.7em;
        height: 1.8em;
        border-radius: 30px;
    }

    .switch input {
        display: none;
        opacity: 0;
        width: 0;
        height: 0;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: transparent;
        transition: 0.2s;
        border-radius: 30px;
        border: 1px solid #bbb;
    }
    
    .slider:before {
        position: absolute;
        content: "";
        height: 1.4em;
        width: 1.4em;
        border-radius: 20px;
        left: 0.2em;
        bottom: 0.18em;
        background-color: #777;
        transition: 0.4s;
    }
    html.dark .btnTheme{
        color: #fff;
    }
    html.dark .btnTheme:hover{
        background: #333;
    }

    input:checked + .slider::before {
        background-color: #aaa;
    }

    input:checked + .slider {
        border: 1px solid #ddd;
    }

    input:checked + .slider:before {
        transform: translateX(1.8em);
    }
    .dnone {
        display: none  !important;
    }
    @media screen and (max-width: 850px) {
        .toggleCont {
            display: none;
        }
        .btnTheme {
            display: inline-flex;
        }
    }
    @media print {
        .toggleCont {
            display: none;
        }
        .btnTheme {
            display: none;
        }
    }
</style>
